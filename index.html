<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <style>
        .grid {
            border: 1px solid black;
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Tic Tac Toe</h1>
        <span id="turn">X Turn</span>
        <div class="row">
            <div class="grid" id="1" onclick="clicked('1')"></div>
            <div class="grid" id="2" onclick="clicked('2')"></div>
            <div class="grid" id="3" onclick="clicked('3')"></div>
        </div>
        <div class="row">
            <div class="grid" id="4" onclick="clicked('4')"></div>
            <div class="grid" id="5" onclick="clicked('5')"></div>
            <div class="grid" id="6" onclick="clicked('6')"></div>
        </div>
        <div class="row">
            <div class="grid" id="7" onclick="clicked('7')"></div>
            <div class="grid" id="8" onclick="clicked('8')"></div>
            <div class="grid" id="9" onclick="clicked('9')"></div>
        </div>
    </div>

    <script>
        var grid = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
        var symbol = "X"
        var winner = ""

        clicked = (id) => {
            if (winner == ""){
                document.getElementById(id).innerHTML = `<h4>${symbol}</h4>`
                if (parseInt(id) <= 3 && parseInt(id) >= 1) {
                    grid[0][parseInt(id)-1] = symbol
                } else if (parseInt(id) <= 6 && parseInt(id) >= 4) {
                    grid[1][parseInt(id)-4] = symbol
                } else {
                    grid[2][parseInt(id)-7] = symbol
                }

                if (checkWinner() == false) {
                    if (symbol == "O") {
                        document.getElementById("turn").innerText = "X's turn"
                        symbol = "X"
                    } else {
                        document.getElementById("turn").innerText = "O's turn"
                        symbol = "O"
                    }
                }
            } else {
                location.reload()
            }
        }

        checkWinner = () => {
            // maybe use loop somehow?

            // horizontal
            if ((grid[0][0] == grid[0][1] && grid[0][0] == grid[0][2] && grid[0][1] == grid[0][2]) || (grid[1][0] == grid[1][1] && grid[1][0] == grid[1][2] && grid[1][1] == grid[1][2]) || grid[2][0] == grid[2][1] && grid[2][0] == grid[2][2] && grid[2][1] == grid[2][2]) {
                if (grid[0][0] != 1) {
                    document.getElementById("turn").innerText = `${grid[0][0]} won!`
                    winner = grid[0][0]
                } else if (grid[1][0] != 4) {
                    document.getElementById("turn").innerText = `${grid[1][0]} won!`
                    winner = grid[1][0]
                } else {
                    document.getElementById("turn").innerText = `${grid[2][0]} won!`
                    winner = grid[2][0]
                }
                return true
            }

            // vertical
            if ((grid[0][1] == grid[1][1] && grid[0][1] == grid[2][1] && grid[1][1] == grid[2][1]) || (grid[0][2] == grid[1][2] && grid[0][2] == grid[2][2] && grid[1][2] == grid[2][2]) || grid[0][0] == grid[1][0] && grid[0][0] == grid[2][0] && grid[1][0] == grid[2][0]) {
                if (grid[0][0] != 1) {
                    document.getElementById("turn").innerText = `${grid[0][0]} won!`
                    winner = grid[0][0]
                } else if (grid[0][1] != 2) {
                    document.getElementById("turn").innerText = `${grid[0][1]} won!`
                    winner = grid[0][1]
                } else {
                    document.getElementById("turn").innerText = `${grid[0][2]} won!`
                    winner = grid[0][2]
                }
                return true
            }

            // diagonal
            if (grid[0][0] == grid[1][1] && grid[0][0] == grid[2][2] && grid[1][1] == grid[2][2] || grid[0][2] == grid[1][1] && grid[0][2] == grid[2][0] && grid[1][1] == grid[2][0]) {
                document.getElementById("turn").innerText = `${grid[0][0]} won!`
                winner = grid[0][0]
                return true
            }

            return false
        }
    </script>
</body>
</html>